<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>从Arcgis编码说开来</title>
    <url>/2021/01/11/%E4%BB%8EArcgis%E7%BC%96%E7%A0%81%E8%AF%B4%E5%BC%80/</url>
    <content><![CDATA[<blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>神说：选UTF-8</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>
<a id="more"></a>
<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><p>前段时间，遇见了如下的两个问题</p>
<ol>
<li><p>power shell安装oh-my-posh后显示为方块</p>
</li>
<li><p>ArcGIS通过csv转换得到的point shapefile的属性信息同地理坐标发生错位</p>
<p>而最终对于上述两个问题的解决，其问题的本质均指向了编码问题，同样也是在平时编写代码过程中最为重要但同时也即为容易被忽略的问题，下面如何解决上述问题以及就编码这一概念展开解释。</p>
</li>
</ol>
<h2 id="2-编码"><a href="#2-编码" class="headerlink" title="2. 编码"></a>2. 编码</h2><h3 id="2-1-编码本质"><a href="#2-1-编码本质" class="headerlink" title="2.1 编码本质"></a>2.1 编码本质</h3><p>  日常代码过程中遇见的绝大部分的乱码问题都可以归结到编码问题，而编码的本质其实就是对于给计算机的一本<strong>字典</strong>，即编码实现了如下两件事情</p>
<ol>
<li><p>给所有字符一个独一无二的数字编号，通过mapping的机制进行一一映射，如我将”00000001”映射给”蔡”这一中文字符</p>
</li>
<li><p>该数字编号能用0、1表示</p>
<p>对于2而言，由于编码的长度存在不定长的情况，如’才’映射给”00000010”,而”菜”用”00000001 00000010”，而计算机如何分辨读取到的编码应该映射为“蔡才”还是“菜”便成了问题。（常见的UTF-8编码中的中文常为3-4个字节），而对于第二个问题的解决一般是采用<strong>定长</strong>的策略，即规定多少字节的代表一个字符，对于<strong>未达到长度的字符前面补0</strong>进行解决。</p>
</li>
</ol>
<h3 id="2-2-乱码的背后机理"><a href="#2-2-乱码的背后机理" class="headerlink" title="2.2 乱码的背后机理"></a>2.2 乱码的背后机理</h3><p>  说起乱码对于大部分人影响最为深刻的应该为C以及C++命令行输出“烫烫烫”或者“屯屯屯”的乱码形式，其输出如下乱码的原因是VS studio部分的编辑器对于未分配的内存空间会默认填入相关的内容。</p>
<ol>
<li><p>未分配或者静态分配而未赋初值的内存采用0xCC填充</p>
<figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> C; <span class="comment">// default C = -858993460(0xCCCCCCC)</span></span><br><span class="line">	   <span class="comment">// 烫（0xCCCC）</span></span><br></pre></td></tr></tbody></table></figure></li>
<li><p>动态分配(new, malloc)而未赋初值的内存采用0xCD填充，其中屯(0xCDCD)</p>
<p>由上述例子我们可以发现乱码的本质就是<strong>编码解码采用了不同的标准</strong>。</p>
<p>对于计算机而言计算机只能识别0/1进制数据，这就决定了我们需要实现一下两种过程</p>
</li>
</ol>
<p><strong>编码</strong>：文字符号 $\to$ 二进制数据</p>
<p><strong>解码</strong>：二进制数据 $\to$ 文字符号</p>
<p>如下为将字符串先进行utf-8编码，再利用gbk解码，最终输出的结果即为乱码</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">s = <span class="string">"蔡菜菜"</span></span><br><span class="line">s.encode(<span class="string">'utf-8'</span>).decode(<span class="string">'gbk'</span>,errors=<span class="string">'ignore'</span>) <span class="comment">#‘ignore’ 去除非gbk框架内的字符</span></span><br><span class="line"><span class="comment"># output s = '钄¤彍鑿'</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="2-3-字体和编码"><a href="#2-3-字体和编码" class="headerlink" title="2.3 字体和编码"></a>2.3 字体和编码</h3><p>  从上面可以得知，不同的编码体系主要实现的内容是<strong>字符编码</strong>同<strong>二进制存储码</strong>之间转换的不同体系的“字典”，而字体库即是对于字符编码的可视化显示过程的字典，所以文字调用的过程可以解释为下列流程</p>
<ol>
<li><p>根据计算机提供的二进制数据，在确定的编码体系中（如UTF-8)，转换为目标的<strong>文字编码</strong></p>
</li>
<li><p>根据文字编码同程序中设置的文字样式（如Mono)等，提取出字体库中的目标符号进行展示</p>
<p>所以字体库的主要目的是在于美观。同样的由于不同字体库能表示的文字符号是有限的，对于<strong>不在库中的文字同样是无法显示出正确的符号</strong>，而这部分符号的显示常常会用一些默认的符号（如方块）进行替换。</p>
</li>
</ol>
<h3 id="2-4-中文编码"><a href="#2-4-中文编码" class="headerlink" title="2.4. 中文编码"></a>2.4. 中文编码</h3><p><img src="https://pic4.zhimg.com/80/v2-0d0285e7b9433eeedf7e705d6e082d13_720w.jpg" alt="img"></p>
<p>  常见的中文编码兼容性图如上，可见 GB18030 $\to$ GBK $\to$ GB2312 $\to$ ASCII $\leftarrow$ UTF8。UTF8同GB相关的中文字符除了ASCII有一定交集外没有任何的交集。这也是最为常见导致乱码的场景，UTF8同GBK的编解码混用。</p>
<p>  ASCII编码是最为常见的编码形式，但其能编码的字母和符号仅用128个，其能被大部分的编码体系兼容（除UTF-16，UTF32）</p>
<h4 id="2-4-1-GB18030-to-GBK-to-GB2312"><a href="#2-4-1-GB18030-to-GBK-to-GB2312" class="headerlink" title="2.4.1 GB18030 $\to$ GBK $\to$ GB2312"></a>2.4.1 GB18030 $\to$ GBK $\to$ GB2312</h4><p>GB即国标，GBK即国标扩展，这三种编码的本质除了字节长度的不同，本质上都是前者对于后者由于汉字数目需要的扩展。</p>
<ol>
<li><p><strong>GB2312</strong></p>
<p>最先提出的兼容中文字符的编码集，其最先提出是在ASCII的基础上进行扩展，每个字占据了<strong>2bytes</strong>，同时输入法常见的半角全角的概念（全角即英文的字符长度同汉字等宽），而全角同半角的相同英文字符背后的编码是不同的（全角输入导致编辑器无法运行的原因）</p>
</li>
<li><p><strong>GBK</strong></p>
<p>在GB2312的基础上进一步扩展了GB2312的6312个中文字符至20902个，同时添加了中文标点符号部首等等</p>
</li>
<li><p><strong>GB18030</strong></p>
<p>在GBK字符基础上进一步扩展，但是由于2bytes的存储上限仅为65536，所以GB18030每个字节占据了<strong>4bytes</strong>。</p>
</li>
</ol>
<p>具体的字节值域见下图，由于需要兼容ASCII所以第一个8bits的最高位置为0</p>
<p><img src="https://pic1.zhimg.com/80/v2-905e6e4840050444f64375ffd9dffc48_720w.jpg" alt="img"></p>
<p>同时需要注意的是上述中文编码均采用了<strong>定长编码的划分方式</strong></p>
<h4 id="2-4-2-UTF-8"><a href="#2-4-2-UTF-8" class="headerlink" title="2.4.2 UTF-8"></a>2.4.2 UTF-8</h4><p>  我对于UTF-8的初印象是来自于，对于大部分python2不兼容中文一般的解决方法通过在文件首通过设定为UTF-8进行解决。UTF-8编码的出现是为了能解决世界上的大部分文字，也是目前大部分代码过程中会采用的编码形式。其的主要目的便是将<strong>Unicode（字符集）</strong>设定一一映射的<strong>编码规则</strong>。</p>
<p>  但UTF-8为变长字符编码，这也是导致了其同GB系列的编码除ASCII外的所有均不兼容的主要原因。</p>
<p>  UTF-8采用了二进制<strong>最高位连续1的个数</strong>来决定该字是几字节编码（如110xxxxx代表的为双字节，同时这也意味着前n+1位是间隔判断字符），如果最高位为0则代表单字节（该举措是为了兼容ASCII编码）。如下图即为汉字字符从Unicode字符集中转换为UTF-8的过程。</p>
<p><img src="https://pic1.zhimg.com/80/v2-e65b436e01c4df151e496bf2acfab51c_720w.jpg" alt="img"></p>
<h2 id="3-问题解决"><a href="#3-问题解决" class="headerlink" title="3. 问题解决"></a>3. 问题解决</h2><h3 id="3-1-power-shell-oh-my-posh"><a href="#3-1-power-shell-oh-my-posh" class="headerlink" title="3.1 power shell oh-my-posh"></a>3.1 power shell oh-my-posh</h3><p>oh-my-posh类似于linux系统中的oh-my-zsh主要作用是对于命令行的美化，但对于oh-my-posh设置后往往会出现方块问题（该问题同样在WSL的oh-my-zsh中存在），问题示意如下图。</p>
<p><img src="https://i.loli.net/2021/01/11/VUDqMnbuxjXyJ7i.png"></p>
<p>由上述可知，出现方块的字符的主要原因是，字体库中不支持该字符编码导致的问题，具体的解决方案如下。</p>
<p>下载并安装<a href="https://github.com/ryanoasis/nerd-fonts%E5%86%85%E7%9A%84%E5%AD%97%E4%BD%93%E5%B9%B6%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85%EF%BC%8C%E5%B0%86%E5%86%85%E9%83%A8%E7%9A%84%E5%AD%97%E4%BD%93%E8%AE%BE%E7%BD%AE%E6%9B%B4%E6%8D%A2%E4%B8%BA%E5%AE%89%E8%A3%85%E7%9A%84%E5%AD%97%E4%BD%93%E3%80%82%E7%BB%93%E6%9E%9C%E5%A6%82%E4%B8%8B%E6%89%80%E7%A4%BA%E3%80%82">https://github.com/ryanoasis/nerd-fonts内的字体并进行安装，将内部的字体设置更换为安装的字体。结果如下所示。</a></p>
<p><img src="https://i.loli.net/2021/01/11/nqEsWi17Rdj58Lh.png"></p>
<p>解决问题的核心在于nerd-fonts提供的字体库能提供相应所需的符号。</p>
<h3 id="3-2-Arcgis错位问题"><a href="#3-2-Arcgis错位问题" class="headerlink" title="3.2 Arcgis错位问题"></a>3.2 Arcgis错位问题</h3><p>  解决该部分的问题将近用了两天时间，下列主要是对于解决的过程和相关的方法进行总结。</p>
<h4 id="3-2-1-问题本质"><a href="#3-2-1-问题本质" class="headerlink" title="3.2.1 问题本质"></a>3.2.1 问题本质</h4><p>   该问题的产生同样是因为编码问题导致，而这一问题是我利用python进行逐行写入后编码问题报错，从而意识到了所谓的错位问题本质是在于编码方式导致的直接问题。在对于逐行编码过程中，发现不管是采用<strong>GB</strong>系列亦或者是<strong>UTF-8</strong>均会产生无法编码的字符，这就表明了，原始数据中存在<strong>不同编码方式</strong>的数据，而Arcgis采用统一的编码形式进行编码，也就导致了该问题的发生。</p>
<p>​    同时需要注意的是，ArcGIS打开dBase文件时，会先对于.CPG文件进行读取，确定编码类型，如果缺失CPG文件，则Arcgis会默认将编码假设为Windows(ANSI/Multi-byte)，这也是导致dbf属性表乱码的原因之一。</p>
<h4 id="3-2-2-解决思路"><a href="#3-2-2-解决思路" class="headerlink" title="3.2.2 解决思路"></a>3.2.2 解决思路</h4><p>   确定了问题是由于数据中存在不同形式的编码形式，但python的pandas读取数据后均为二进制的存储方式（python的str存储的为二进制码），所以为了解决编码不统一的问题主要采用了下列代码。</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">s = <span class="string">"目标语句"</span></span><br><span class="line">s = s.encode(<span class="string">'utf-8'</span>,errors=<span class="string">'ignore'</span>).decode(<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="comment"># errors ignore剔除了同utf-8无法表示的内容符号，并最后解码成utf-8的方式进行存储</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="3-2-2-核心相关代码"><a href="#3-2-2-核心相关代码" class="headerlink" title="3.2.2 核心相关代码"></a>3.2.2 核心相关代码</h4><p>   该部分主要介绍了csv等文件转换为shapefile的两种方式，以下代码均为核心代码。</p>
<ol>
<li><strong>geopandas</strong></li>
</ol>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> geopandas <span class="comment"># geopandas的方式，具体安装流程参照https://blog.csdn.net/weixin_38333199/article/details/101761810</span></span><br><span class="line">df= gpd.read_file(<span class="string">r'company_final_data.xlsx'</span>,encoding=<span class="string">'utf-8'</span>) <span class="comment"># 读取文件</span></span><br><span class="line">df[[<span class="string">'pointx'</span>,<span class="string">'pointy'</span>]] = df[[<span class="string">'pointx'</span>,<span class="string">'pointy'</span>]].apply(pd.to_numeric) </span><br><span class="line">gdf = gpd.GeoDataFrame(df, geometry=gpd.points_from_xy(df.pointx, df.pointy))<span class="comment"># 添加点位置</span></span><br><span class="line">gdf.crs = pyproj.CRS.from_user_input(<span class="string">'EPSG:4326'</span>) <span class="comment">#给输出的shp增加投影</span></span><br><span class="line">gdf.to_file(<span class="string">'test.shp'</span>,</span><br><span class="line">           driver=<span class="string">'ESRI Shapefile'</span>,</span><br><span class="line">           encoding=<span class="string">'utf-8'</span>) <span class="comment"># 写入shapefile文件</span></span><br></pre></td></tr></tbody></table></figure>
<ol start="2">
<li>pyshp</li>
</ol>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> shapefile <span class="comment"># pip install pyshp</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_shapefile</span>(<span class="params">shape_path, csv_data</span>):</span></span><br><span class="line">    file = shapefile.Writer(shape_path, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">    <span class="comment">#创建字段 C字符 100字符长度， N 双精度 D 日期</span></span><br><span class="line">    colunms_list = csv_data.keys()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        file.field(colunms_list[i],<span class="string">'C'</span>,<span class="string">'100'</span>)</span><br><span class="line">    file.field(colunms_list[<span class="number">3</span>], <span class="string">'D'</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">15</span>):</span><br><span class="line">        file.field(colunms_list[i+<span class="number">4</span>], <span class="string">'C'</span>, <span class="string">'100'</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">        file.field(colunms_list[i+<span class="number">19</span>], <span class="string">'N'</span>, <span class="string">'31'</span>, decimal=<span class="number">4</span>)</span><br><span class="line">    <span class="comment"># 读取csv每行文件进行逐一赋值</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> tqdm(<span class="built_in">range</span>(<span class="built_in">len</span>(csv_data[<span class="string">'企业名称'</span>]))):</span><br><span class="line">        <span class="keyword">if</span> csv_data[<span class="string">'lon'</span>].values[i] == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="comment"># 添加点矢量</span></span><br><span class="line">        file.point(csv_data[<span class="string">'lon'</span>].values[i], csv_data[<span class="string">'lat'</span>].values[i])</span><br><span class="line">        <span class="comment"># 添加属性表的记录</span></span><br><span class="line">        file.record(<span class="built_in">str</span>(csv_data[<span class="string">'企业名称'</span>].values[i]).encode(<span class="string">'gbk'</span>,errors=<span class="string">'ignore'</span>).decode(<span class="string">'gbk'</span>).encode(<span class="string">'utf-8'</span>).decode(<span class="string">'utf-8'</span>), </span><br><span class="line">                  <span class="comment">#省略不细写</span></span><br><span class="line">                   csv_data[<span class="string">'lon'</span>].values[i],</span><br><span class="line">                   csv_data[<span class="string">'lat'</span>].values[i])</span><br><span class="line">            </span><br><span class="line">    file.close()</span><br><span class="line">    <span class="comment"># 定义投影</span></span><br><span class="line">    proj = osr.SpatialReference() </span><br><span class="line">    proj.ImportFromEPSG(<span class="number">4326</span>) <span class="comment"># 4326-GCS_WGS_1984; 4490- GCS_China_Geodetic_Coordinate_System_2000</span></span><br><span class="line">    wkt = proj.ExportToWkt()</span><br><span class="line">    <span class="comment"># 写入投影</span></span><br><span class="line">    f = <span class="built_in">open</span>(shape_path.replace(<span class="string">".shp"</span>, <span class="string">".prj"</span>), <span class="string">'w'</span>) </span><br><span class="line">    f.write(wkt)<span class="comment">#写入投影信息</span></span><br><span class="line">    f.close()<span class="comment">#关闭操作流</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="4-参考资料"><a href="#4-参考资料" class="headerlink" title="4. 参考资料"></a>4. 参考资料</h2><p><a href="https://zhuanlan.zhihu.com/p/46216008">https://zhuanlan.zhihu.com/p/46216008</a></p>
<p><a href="https://github.com/ryanoasis/nerd-fonts">https://github.com/ryanoasis/nerd-fonts</a></p>
<p><a href="https://blog.csdn.net/weixin_38333199/article/details/101761810">https://blog.csdn.net/weixin_38333199/article/details/101761810</a></p>
]]></content>
      <categories>
        <category>代码杂记</category>
      </categories>
      <tags>
        <tag>编码</tag>
        <tag>python</tag>
        <tag>gis</tag>
      </tags>
  </entry>
  <entry>
    <title>阿加莎的推理王国</title>
    <url>/2021/01/13/%E9%98%BF%E5%8A%A0%E8%8E%8E%E7%9A%84%E6%8E%A8%E7%90%86%E7%8E%8B%E5%9B%BD/</url>
    <content><![CDATA[<blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>有人生来就被幸福拥抱，有人生来就被长夜围绕。</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>
<a id="more"></a>
<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1.前言"></a>1.前言</h2><p>  阿婆的推理成就在此我不多赘述，“侦探女王”四个字的分量足以体现一切。也许阿婆的推理小说以今天的眼光来看是重诡计设计而轻人物设计的，其大部分小说的人物更像是为诡计所服务的“工具人”。除此之外，阿婆的部分小说是具有较为明显的同质性，以我的角度进行叙述便是“移动式的密室案件”——虽然大部分的案件都是发生了场景的变换，但是究其根本，人物都是在阿婆精心构建的一个小世界内发生的案件，这也导致了同质化的发生（此点在ABC谋杀案中尤为明显）。</p>
<p>​  欲扬先抑，虽然列举了种种阿婆推理小说的问题，但一切都不能跳脱时代背景来说，对于那个推理小说刚以一种文学形式进入世界后，阿婆无疑称得上是和柯南道尔并列的双子星。即使脱离时代来看，对于初次接触推理小说的读者来说，阿婆的推理小说也是一块极佳的敲门砖。不仅仅是体现于在小说中掺杂的独属于阿婆女性的那一份细腻，也体现于阿婆所开创的属于推理小说经典的诡计设计。</p>
<h2 id="2-书籍及介绍"><a href="#2-书籍及介绍" class="headerlink" title="2. 书籍及介绍"></a>2. 书籍及介绍</h2><p>​  以下为我个人对于阿婆推理小说的推荐，仅仅阐述推荐的级别及理由，但不对剧情进行介绍（推理的乐趣在于对后续剧情强烈的好奇心）★☆</p>
<h3 id="2-1-《东方快车谋杀案》"><a href="#2-1-《东方快车谋杀案》" class="headerlink" title="2.1 《东方快车谋杀案》"></a>2.1 《东方快车谋杀案》</h3><blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>不可能的事不可能已经发生，因此不可能的事尽管看起来不可能，但肯定有可能发生。</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>推荐指数：★★★★★</p>
<p>​  东方快车谋杀案无疑是阿婆推理小说的首选，不断的被电影化也足见其的优秀。不仅仅是对于整个诡计的设计，同样你能感受到波洛作为“人”这一形象的丰满，不再是常见的更偏向于“神”的侦探形象，这一案件引起的是对于犯罪这一本身是否善恶的思考，从而表达出波洛仅仅是更聪明的“人”，而不是洞穿一切的“神”。</p>
<p>  吐槽一句：东方快车谋杀案的犯罪形式是目前剧本杀的一大创作方式，但大部分的剧本杀仅仅流于这个诡计手法的表面，却没有指向其中的内核，东方快车谋杀案中的犯人是因为“爱”而彼此包庇的，而侦探同样是因为“爱”而选择了放弃真相（真相近乎是侦探的生命）</p>
<h3 id="2-2-《罗杰疑案》"><a href="#2-2-《罗杰疑案》" class="headerlink" title="2.2 《罗杰疑案》"></a>2.2 《罗杰疑案》</h3><blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>习惯会束缚人的手脚。我们努力工作只为了那么一个目标，如愿以偿之后，却又开始怀念日复一日的劳碌生活。</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>推荐指数：★★★★★</p>
<p>  叙述者诡计开创先河者，这一句话已经奠定了这本小说的地位。不幸的，由于《冰菓》的缘故提前了解到这一手法，导致四分之三的阅读已经得出了凶手是谁这一结论，导致后续的阅读体验有所下降。但对于未接触过叙述者诡计这一手法的读者，在我看来，罗杰疑案是阿婆推理技法的巅峰，是一本能给读者带来推理小说中逐渐抽丝剥茧的推理乐趣。</p>
<h3 id="2-3-《三幕悲剧》"><a href="#2-3-《三幕悲剧》" class="headerlink" title="2.3 《三幕悲剧》"></a>2.3 《三幕悲剧》</h3><blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>一个把自己戏剧化的男人，有时会被看错。别人不会认真对待他的真心。</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>推荐指数：★★★☆</p>
<p>  One，Two，Three，阿婆设计的极具戏剧表达张力的一场演出，前面的悲剧是为了最后一幕高潮悲剧的提前预演，整部诡计的设计可以说是从一定程度上参照了戏剧。能让身为读者的我，成为坐在舞台前的一位观众，欣赏的是舞台上的三幕悲剧，但问题还是出现于那一句“重诡计而轻人物”，除了波洛这位常驻侦探外没有任何能立于我心中的角色。</p>
<h3 id="2-4-《死亡约会》"><a href="#2-4-《死亡约会》" class="headerlink" title="2.4 《死亡约会》"></a>2.4 《死亡约会》</h3><blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>有时候我们妥协，是害怕争吵。争吵是让人很不舒服的事情。但是我想，行动的自由是值得我们为之奋斗的东西。</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>推荐指数：★★★★</p>
<p>​  戏剧质感，这是我对于阿婆大部分书的第一观感。死亡约会的诡计设计优秀程度同三幕悲剧可以说是不相上下的，而多出来的半星，是阿婆在这本书中的体现出来的人文主义关怀以及角色塑造要优于三幕悲剧。虽然书名是具有悲剧色彩的，但是结尾却显得足够温馨，也见阿婆对于爱情这一美好事物的追求。只是对于美好的追求已经开始呈现出对于诡计叙述的压倒导致结尾的观感有些许遗憾。</p>
<h3 id="2-5-《闪光的氰化物》"><a href="#2-5-《闪光的氰化物》" class="headerlink" title="2.5 《闪光的氰化物》"></a>2.5 《闪光的氰化物》</h3><blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>Rosemary is to help people recall. </p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>推荐指数：★★★☆</p>
<p>​  闪光的氰化物，可以称得上是阿婆对于错综复杂的人物关系的一次很大胆的尝试，不同于其余书的隐藏人物关系，这本书将这种隐藏在人物背后的关系进一步打乱、打结，引向了更加进一步的复杂，并且诡计的设计完全是基于这一人物关系上，诡计本身并不复杂，但通过这一人物关系将原本简单的诡计引向了一种混沌的状态，如同被猫玩后的毛线球，无法找到真正的线头是在何处。但存在的问题同三幕悲剧一样，极强的写作技巧和诡计设计但是及其微弱的人物存在。</p>
<h3 id="2-6-《ABC谋杀案》"><a href="#2-6-《ABC谋杀案》" class="headerlink" title="2.6 《ABC谋杀案》"></a>2.6 《ABC谋杀案》</h3><blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>可是经常被称作是直觉的事物，其实是一种以逻辑推理结论或经验为基础的印象。 </p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>推荐指数：★★☆<br>  ABC谋杀案说得上是阿婆在大众出镜率较高的一本书（点名冰菓），但如果要推荐的话，我仅仅推荐给刚开始接触阿婆小说的读者，对于已经读过阿婆较多作品的人来说这一本会让人产生直接的审美疲劳。虽然是全国各地发生的凶杀案件，也是极为经典的预言式杀人（比如非自然死亡就是借鉴了这一诡计的设计），但本质上逃脱不了我开头说的移动式密室，而这一点在这显示的更为严重，场景的更换，但是不更换的是参与这一案件的人员，换句话说将受害人、侦探、凶手放进一个密室，然后按照顺序逐一发生凶杀案，营造出来的效果同这也相差无几，唯一区别的是场景更大后能营造出一种“史诗感”。但对我而言，读到这本书后面让我产生了少见的“告诉我真相，我不想和波洛一起破案了”的对于推理小说来说的消极情绪。</p>
<h3 id="2-7-《尼罗河上的惨案》"><a href="#2-7-《尼罗河上的惨案》" class="headerlink" title="2.7 《尼罗河上的惨案》"></a>2.7 《尼罗河上的惨案》</h3><blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>人生空幻。 一点爱情， 一点仇恨， 还有互道早安。 人生短暂。 一点希望， 一点梦想， 还有互道晚安。</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>推荐指数：★★★★☆</p>
<p>​  “尼罗河上的惨案值得四星半”，我如是说到。原因在于这本书在死亡约会中我提及的人物塑造更近一步，即使到现在我也能回忆起书中塑造的人物形象是如何的，而不仅仅是因为诡计的精妙让我记住了这些角色，是因为这些角色的本身让我记住了这些角色。<br>  回到诡计，也是阿婆小说中天花板级别的设计，华丽的不在场证据的设计——不仅仅是因为诡计需要设计如此的不在场证明，在这不在场证明的背后是存在感情上的逻辑链条。可以说比起早先的一些作品的重诡计来说，阿婆开始向着人这一本身的塑造改变（这一点在之后的长夜中进入了我所认为的巅峰），阿婆追求的可能不仅仅是死亡约会中的美好，而是对于悲剧进一步的思考。对于我而言读完后最大的问题在于，男主为什么要留下那个所谓的“佐罗印记”，当然答案是不言而喻的。</p>
<h3 id="2-8-《无人生还》"><a href="#2-8-《无人生还》" class="headerlink" title="2.8 《无人生还》"></a>2.8 《无人生还》</h3><blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>十个小兵人，外出去吃饭。一个被呛死，还剩九个人。九个小兵人，熬夜熬得深。一个睡过头，还剩八个人。八个小兵人，动身去德文。一个要留下，还剩七个人……</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>推荐指数：★★★★★</p>
<p>​  无人生还是阿婆目前深受英国本土喜爱的作品之一，戏剧电影的改编不计其数。之所以放在此处讲，是因为这一本是脱离了波洛探案集的推理小说，同样也是阿婆作品中绕不过的一部作品，作为压轴刚好合适。无人生还的诡计展现形式接近于ABC谋杀案的形式，同样是预告式杀人，但是不同的是无人生还更加富有戏剧性，甚至可以称上是阿婆所有作品中的戏剧演出的巅峰。<br>  十个人一个小岛，一首英国的古老童谣，每个人背后的故事、罪恶，在一场场死亡中被赎罪，不难相信为什么这部作品成为了戏剧电影改编的常客。一座孤岛上的死亡镰刀，一群人接受的审判，从头到尾一出好戏。</p>
<h3 id="2-9-《长夜》"><a href="#2-9-《长夜》" class="headerlink" title="2.9 《长夜》"></a>2.9 《长夜》</h3><p>推荐指数：★★★★★</p>
<p>​  之所以将长夜放在这个位置，仅仅是长夜是我最爱的阿婆的作品之一，同上述几本书不同，是阿婆很少见的未着重于诡计设计的作品，而是完完全全通过了人物性格的塑造去推动剧情的发生，单纯的就诡计而言可以说是不出彩的，但是就整本书而言这样的诡计是恰到好处的。如同在20世纪50年代在日本出现的社会派推理，长夜这一本书完全可以归于那一派别。</p>
<p>​  长夜这一故事的构思上可以窥见许多作品的影子，手法是借鉴《罗杰疑案》的叙述者诡计，富家女同落魄男子的恋爱，也在阿婆的小说中频繁出现如《尼罗河上的惨案》，更确切地说这甚至是看房人之谜的扩展。但往更遥远的历史回溯，甚至同爱伦坡笔下的《泄密的心》《黑猫》等的剧情走向颇为相似，本质上来说，阿婆在晚年时间更加深切的去剖析了人性，写出了一场颇让人悲伤的戏剧。虽然阅读这本书已过了许久，但让人难忘的艾丽在那个阳光的午后，在梦想的别墅中弹奏的那曲歌谣</p>
<blockquote class="blockquote-center">
            <i class="fa fa-quote-left"></i>
            <p>人生有喜悦，也有悲怜。</p>
<p>看透了这一点，才能安然走过世间。</p>
<p>每一个夜晚，每一个清晨，有人生来就为不幸伤神。</p>
<p>每一个清晨，每一个夜晚，有人生来就被幸福拥抱。</p>
<p>有人生来就被幸福拥抱，有人生来就被长夜围绕。</p>

            <i class="fa fa-quote-right"></i>
          </blockquote>

<p>  只不过艾丽爱上了一个被长夜围绕的人，一个用自己的欲望吞噬了周围所有人的人。</p>
]]></content>
      <categories>
        <category>书评</category>
      </categories>
      <tags>
        <tag>读书记录</tag>
        <tag>推理</tag>
        <tag>阿加莎</tag>
      </tags>
  </entry>
</search>
